var test = require('tape');
var parser = require('tap-parser');
var colorize = require('../');

test('colorize pass', function (t) {
    t.plan(5);
    var th = test.createHarness();
    th.createStream().pipe(colorize())
        .pipe(parser(function (results) {
            t.equal(results.ok, true);
            t.equal(results.asserts.length, 2);
            t.equal(results.fail.length, 0);
            t.equal(results.pass.length, 2);
            t.deepEqual(results.plan, { start: 1, end: 2 });
        })